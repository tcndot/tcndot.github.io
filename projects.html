---
layout: default
title: Projects
permalink: /projects/
---

<!--
=====================================================================
HOW TO ADD A NEW PROJECT (READ THIS CAREFULLY)
=====================================================================

You DO NOT edit this file to add projects.

To add a project:
1. Go to folder:  /_projects/
2. Create a new file ending with .md
   Example: shyam-nagar.md

3. Copy the EXACT example below into that new file
4. Change only the text and image paths

---------------------------------------------------------------------
COPY–PASTE EXAMPLE FOR A PROJECT (.md FILE)
---------------------------------------------------------------------

---
layout: project                      # REQUIRED – do not change
title: Project Name Here              # REQUIRED – shown everywhere

location: Area / Road name            # Optional (project page only)
subtitle: Short tagline (optional)    # Optional

# REQUIRED:
# This is the MAP IMAGE.
# The website uses THIS image to decide the size of the photo box.
map_image: /assets/projects/project-name/map.jpg

# OPTIONAL:
# Use 1 or 2 images only.
# These will rotate AFTER the map.
gallery:
  - /assets/projects/project-name/1.jpg
  - /assets/projects/project-name/2.jpg

# OPTIONAL FALLBACK:
# Used only if gallery is missing.
image: /assets/projects/project-name/cover.jpg

# REQUIRED for project listing page text
listing:
  highlight: "One strong bold sentence about the project"
  summary: "One or two normal lines explaining location, price, or value"

---

IMPORTANT RULES (VERY IMPORTANT):
• Always give map_image
• Image paths must start with /assets/
• Do NOT remove the --- lines
• Do NOT add extra spaces before keys
• File name does NOT matter, title does
• Never touch projects.html to add projects

=====================================================================
END OF PROJECT CREATION INSTRUCTIONS
=====================================================================
-->

<section style="padding:32px 14px; background:#f7f9f8;">

  <h1 style="text-align:center;font-size:26px;font-weight:800;margin-bottom:28px;">
    Our Projects
  </h1>

  {% assign projects_sorted = site.projects | sort: "title" %}

  {% for p in projects_sorted %}
    {% if p.title %}

      <!--
      ===============================================================
      PROJECT CARD
      Entire card is clickable.
      ===============================================================
      -->
      <a href="{{ p.url | relative_url }}"
         class="project-card"
         style="
           display:block;
           max-width:380px;
           margin:0 auto 40px auto;
           background:#ffffff;
           border-radius:18px;
           border:1px solid rgba(0,0,0,0.06);
           box-shadow:0 8px 22px rgba(0,0,0,0.06);
           text-decoration:none;
           color:inherit;
           overflow:hidden;
         ">

        <!-- PROJECT TITLE -->
        <div style="text-align:center;padding:14px;font-size:20px;font-weight:700;border-bottom:1px solid #eee;">
          {{ p.title }}
        </div>

        <!--
        ===============================================================
        MEDIA AREA (MAP + PHOTOS)
        ---------------------------------------------------------------
        LOGIC:
        1. First image = map (source of truth)
        2. Map decides height of box
        3. Other images rotate inside same box
        4. Map is NEVER cropped
        ===============================================================
        -->
        <div class="project-media"
             style="position:relative;width:100%;background:#e5e7eb;overflow:hidden;">

          {% assign slides = "" | split: "" %}

          <!-- MAP IMAGE (REQUIRED) -->
          {% if p.map_image %}
            {% assign slides = slides | push: p.map_image %}
          {% endif %}

          <!-- OPTIONAL ROTATING IMAGES -->
          {% if p.gallery %}
            {% for img in p.gallery limit:2 %}
              {% assign slides = slides | push: img %}
            {% endfor %}
          {% elsif p.image %}
            {% assign slides = slides | push: p.image %}
          {% endif %}

          {% for img in slides %}
            <img
              src="{{ img | relative_url }}"
              class="proj-slide"
              style="
                position:absolute;
                inset:0;
                width:100%;
                height:100%;
                display:block;
                object-fit:contain;
                background:#e5e7eb;
                opacity:0;
                transition:opacity .6s ease;
              "
              loading="lazy">
          {% endfor %}

        </div>

        <!--
        ===============================================================
        TEXT SHOWN BELOW IMAGE
        ---------------------------------------------------------------
        Comes from:
          listing.highlight
          listing.summary
        ===============================================================
        -->
        <div style="padding:14px 16px 18px;text-align:center;">
          {% if p.listing and p.listing.highlight %}
            <div style="font-weight:600;margin-bottom:6px;">
              {{ p.listing.highlight }}
            </div>
          {% endif %}
          {% if p.listing and p.listing.summary %}
            <div style="font-size:14px;color:#555;line-height:1.5;">
              {{ p.listing.summary }}
            </div>
          {% endif %}
        </div>

      </a>

    {% endif %}
  {% endfor %}
</section>

<!--
=====================================================================
JAVASCRIPT – DO NOT TOUCH
---------------------------------------------------------------------
Reads real map image size and sets height correctly.
This prevents cropping and layout bugs.
=====================================================================
-->
<script>
  document.querySelectorAll('.project-card').forEach(card => {
    const media = card.querySelector('.project-media');
    const slides = card.querySelectorAll('.proj-slide');
    if (!slides.length) return;

    const first = slides[0]; // MAP IMAGE

    first.onload = () => {
      const w = first.naturalWidth;
      const h = first.naturalHeight;
      const boxWidth = media.offsetWidth;

      media.style.height = (boxWidth * h / w) + 'px';
      slides[0].style.opacity = 1;

      if (slides.length > 1) {
        let i = 0;
        setInterval(() => {
          slides[i].style.opacity = 0;
          i = (i + 1) % slides.length;
          slides[i].style.opacity = 1;
        }, 3000);
      }
    };
  });
</script>

<style>
  /* Desktop only – mobile is primary */
  @media (min-width:768px) {
    .project-card { max-width:460px; }
  }
</style>
